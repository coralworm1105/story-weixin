{"version":3,"sources":["webpack:///D:/workspace/news-app/pages/login/login.vue?08cd","webpack:///D:/workspace/news-app/pages/login/login.vue?1ec6","webpack:///D:/workspace/news-app/pages/login/login.vue?6711","webpack:///D:/workspace/news-app/pages/login/login.vue?4230","webpack:///D:/workspace/news-app/pages/login/login.vue"],"names":["methods","getuserinfo","res1","wx","login","success","res2","request","url","code","res3","console","log","uni","setStorageSync","data","session_key","openid","e","hideLoading","detail","iv","showToast","title","icon","sessionKey","getStorageSync","method","header","appid","encryptedData","res4"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAoF;AAC3B;AACL;;;AAGpD;AAC+J;AAC/J,gBAAgB,wKAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,gFAAM;AACR,EAAE,yFAAe;AACjB;AACA;AACA;AACA;;AAEA;;AAEA;AACA,IAAI,KAAU,EAAE,YAiBf;AACD;AACe,gF;;;;;;;;;;;;ACtCf;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACNA;AAAA;AAAA;AAAA;AAAquB,CAAgB,0uBAAG,EAAC,C;;;;;;;;;;;;mICAzvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEe;AACdA,SAAO,EAAC;AACPC,eADO,uBACKC,IADL,EACU;AAChBC,QAAE,CAACC,KAAH,CAAS;AACRC,eADQ,mBACAC,IADA,EACM;AACbH,YAAE,CAACI,OAAH,CAAW;AACVC,eAAG,EAAE,mHAAiHF,IAAI,CAACG,IADjH;AAEVJ,mBAFU,mBAEFK,IAFE,EAEG;AACZC,qBAAO,CAACC,GAAR,CAAYF,IAAZ;AACA,kBAAG;AACFG,mBAAG,CAACC,cAAJ,CAAmB,IAAnB,EAAyBJ,IAAI,CAACK,IAAL,CAAUC,WAAnC;AACAH,mBAAG,CAACC,cAAJ,CAAmB,QAAnB,EAA6BJ,IAAI,CAACK,IAAL,CAAUE,MAAvC;AACA,eAHD,CAGC,OAAMC,CAAN,EAAQ;AACR;AACA;AACDL,iBAAG,CAACM,WAAJ;AACA;AACE;AACA,kBAAG,CAACjB,IAAI,CAACkB,MAAL,CAAYC,EAAhB,EAAmB;AACrBR,mBAAG,CAACS,SAAJ,CAAc;AACbC,uBAAK,EAAC,aADO;AAEbC,sBAAI,EAAC,MAFQ,EAAd;;AAIA,uBAAO,KAAP;AACG;AACD,kBAAG;AACL,oBAAIC,UAAU,GAAGZ,GAAG,CAACa,cAAJ,CAAmB,IAAnB,CAAjB;AACAf,uBAAO,CAACC,GAAR,CAAYa,UAAZ;AACG,eAHD,CAGC,OAAMP,CAAN,EAAQ;AACX;AACG;AACDL,iBAAG,CAACN,OAAJ,CAAY;AACd;;;;;;AAMAoB,sBAAM,EAAG,MAPK;AAQdnB,mBAAG,EAAG,oCARQ;AASdoB,sBAAM,EAAG,EAAC,gBAAe,mCAAhB,EATK;AAUdb,oBAAI,EAAG;AACNc,uBAAK,EAAG,oBADF;AAENJ,4BAAU,EAAGA,UAFP;AAGNJ,oBAAE,EAAGnB,IAAI,CAACkB,MAAL,CAAYC,EAHX;AAINS,+BAAa,EAAG5B,IAAI,CAACkB,MAAL,CAAYU,aAJtB,EAVO;;AAgBdzB,uBAAO,EAAC,iBAAS0B,IAAT,EAAc;AACrB;AACA;AACA;AACApB,yBAAO,CAACC,GAAR,CAAYmB,IAAZ;AACA;AACA,iBAtBa,EAAZ;;AAwBF,aAlDS,EAAX;;AAoDA,SAtDO,EAAT;;AAwDA,KA1DM,EADM,E","file":"pages/login/login.js","sourcesContent":["import { render, staticRenderFns } from \"./login.vue?vue&type=template&id=5121d6a5&\"\nimport script from \"./login.vue?vue&type=script&lang=js&\"\nexport * from \"./login.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!E:\\\\下载\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"E:\\\\下载\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('5121d6a5', component.options)\n    } else {\n      api.reload('5121d6a5', component.options)\n    }\n    module.hot.accept(\"./login.vue?vue&type=template&id=5121d6a5&\", function () {\n      api.rerender('5121d6a5', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"D:/workspace/news-app/pages/login/login.vue\"\nexport default component.exports","export * from \"-!E:\\\\下载\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!E:\\\\下载\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!E:\\\\下载\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!E:\\\\下载\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\下载\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./login.vue?vue&type=template&id=5121d6a5&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!E:\\\\下载\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\下载\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\下载\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\下载\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\下载\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!E:\\\\下载\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\下载\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\下载\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\下载\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\下载\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./login.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n\tmethods:{\n\t\tgetuserinfo(res1){\n\t\t\twx.login({\n\t\t\t\tsuccess(res2) {\n\t\t\t\t\twx.request({\n\t\t\t\t\t\turl: 'https:///hoa.hcoder.net/xcxencode/?c=sk&appid=wxbc7692f7c6706fd3&secret=739b970b832f0df158f54c494a08e440&code='+res2.code,\n\t\t\t\t\t\tsuccess(res3){\n\t\t\t\t\t\t\tconsole.log(res3);\n\t\t\t\t\t\t\ttry{\n\t\t\t\t\t\t\t\tuni.setStorageSync('sk', res3.data.session_key);\n\t\t\t\t\t\t\t\tuni.setStorageSync('openid', res3.data.openid);\n\t\t\t\t\t\t\t}catch(e){\n\t\t\t\t\t\t\t\t//TODO handle the exception\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\t\t//以下步骤可以获取加密信息，需要授权\n\t\t\t\t\t\t   //获取加密信息\n\t\t\t\t\t\t   if(!res1.detail.iv){\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t title:\"您取消了授权,登录失败\",\n\t\t\t\t\t\t\t icon:\"none\"\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t   }\n\t\t\t\t\t\t   try{\n\t\t\t\t\t\t\tvar sessionKey = uni.getStorageSync('sk');\n\t\t\t\t\t\t\tconsole.log(sessionKey);\n\t\t\t\t\t\t   }catch(e){\n\t\t\t\t\t\t\t//TODO handle the exception\n\t\t\t\t\t\t   }\n\t\t\t\t\t\t   uni.request({\n\t\t\t\t\t\t\t/**\n\t\t\t\t\t\t\t* $appid         = $_POST['appid'];\n\t\t\t\t\t\t\t $sessionKey    = $_POST['sessionKey'];\n\t\t\t\t\t\t\t $encryptedData = $_POST['encryptedData'];\n\t\t\t\t\t\t\t $iv            = $_POST['iv'];\n\t\t\t\t\t\t\t*/\n\t\t\t\t\t\t\tmethod : \"POST\",\n\t\t\t\t\t\t\turl : 'https:///hoa.hcoder.net/xcxencode/',\n\t\t\t\t\t\t\theader : {'content-type':'application/x-www-form-urlencoded'},\n\t\t\t\t\t\t\tdata : {\n\t\t\t\t\t\t\t appid : \"wxbb7f9f1f2c6f4f33\",\n\t\t\t\t\t\t\t sessionKey : sessionKey,\n\t\t\t\t\t\t\t iv : res1.detail.iv,\n\t\t\t\t\t\t\t encryptedData : res1.detail.encryptedData\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tsuccess:function(res4){\n\t\t\t\t\t\t\t //\"﻿﻿﻿{\"openId\":\"oS6of0V0rdp9nY_BuvCnQUasOHYc\",\"nickName\":\"深海\",\n\t\t\t\t\t\t\t //\"gender\":1,\"language\":\"zh_CN\",\"city\":\"Xi'an\",\"province\":\"Shaanxi\",\n\t\t\t\t\t\t\t //\"country\":\"China\",\"avatarUrl\":\"https://wx.qlogo.cn/mmopen/vi_32/7iags6YD4enyU\"\n\t\t\t\t\t\t\t console.log(res4);\n\t\t\t\t\t\t\t //至此登录完成\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t   });\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t}\n}\n"],"sourceRoot":""}